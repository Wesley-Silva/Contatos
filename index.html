<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Lista de Contatos</title>

    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta content="Metronic Shop UI description" name="description">
    <meta content="Metronic Shop UI keywords" name="keywords">
    <meta content="keenthemes" name="author">

    <meta property="og:site_name" content="-CUSTOMER VALUE-">
    <meta property="og:title" content="-CUSTOMER VALUE-">
    <meta property="og:description" content="-CUSTOMER VALUE-">
    <meta property="og:type" content="website">
    <meta property="og:image" content="-CUSTOMER VALUE-"><!-- link to image for socio -->
    <meta property="og:url" content="-CUSTOMER VALUE-">

    <link rel="shortcut icon" href="favicon.ico">

    <!-- Fonts START -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|PT+Sans+Narrow|Source+Sans+Pro:200,300,400,600,700,900&amp;subset=all" rel="stylesheet" type="text/css">
    <!-- Fonts END -->
    <!-- Global styles START -->
    <link href="assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Global styles END -->
    <!-- Page level plugin styles START -->
    <link href="../../assets/plugins/fancybox/source/jquery.fancybox.css" rel="stylesheet">
    <!-- Page level plugin styles END -->
    <!-- Theme styles START -->
    <link href="assets/pages/css/components.css" rel="stylesheet">
    <link href="assets/corporate/css/style.css" rel="stylesheet">
    <link href="assets/pages/css/gallery.css" rel="stylesheet">
    <link href="assets/corporate/css/style-responsive.css" rel="stylesheet">
    <link href="assets/corporate/css/themes/red.css" rel="stylesheet" id="style-color">
    <link href="assets/corporate/css/custom.css" rel="stylesheet">

    <style>
      #title{
        width:300px;
      }
      table, tr, th{
        text-align: center;
      }
    </style>

    <!-- Theme styles END -->
</head>
<body class="corporate">
    <!-- BEGIN STYLE CUSTOMIZER -->
    <div class="color-panel hidden-sm">
        <div class="color-mode-icons icon-color"></div>
        <div class="color-mode-icons icon-color-close"></div>
        <div class="color-mode">
            <p>Escolha a cor</p>
            <ul class="inline">
                <li class="color-red current color-default" data-style="red"></li>
                <li class="color-blue" data-style="blue"></li>
                <li class="color-green" data-style="green"></li>
                <li class="color-orange" data-style="orange"></li>
                <li class="color-gray" data-style="gray"></li>
                <li class="color-turquoise" data-style="turquoise"></li>
            </ul>
        </div>
    </div>    
    <div class="pre-header">
        <div class="container">
            <div class="row">
                <!-- BEGIN TOP BAR LEFT PART -->
                <div class="col-md-6 col-sm-6 additional-shop-info">
                    <ul class="list-unstyled list-inline">
                        <li><i class="fa fa-phone"></i><span>+1 456 6717</span></li>
                        <li><i class="fa fa-linkedin"></i><span><a href="https://www.linkedin.com/in/wesleysilva10" target="_blank">Wesley</a> </span></li>
                        <li><i class="fa fa-github"></i><span><a href="https://github.com/Wesley-Silva" target="_blank">Wesley Silva</a> </span></li>
                    </ul>
                </div>
                <!-- END TOP BAR LEFT PART -->
                <!-- BEGIN TOP BAR MENU -->
                <div class="col-md-6 col-sm-6 additional-nav">
                    <ul class="list-unstyled list-inline pull-right">
                        <li><a href="#">Login</a></li>
                        <li><a href="#">Registrar</a></li>
                    </ul>
                </div>
                <!-- END TOP BAR MENU -->
            </div>
        </div>
    </div>    
    <div class="header">
        <div class="container">
            <a class="site-logo" href="index.html"><img src="../../assets/corporate/img/logos/logo-corp-red.png" alt="Metronic FrontEnd"></a>

            <a href="javascript:void(0);" class="mobi-toggler"><i class="fa fa-bars"></i></a>

            <!-- BEGIN NAVIGATION -->
            <div class="header-navigation pull-right font-transform-inherit">
                <ul>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="javascript:;">
                            Home

                        </a>

                        <ul class="dropdown-menu">
                            <li><a href="index.html">Contatos</a></li>                          
                        </ul>
                    </li>

                


                    <li><a href="https://wesleysilva.netlify.com/index_sobre_mim.html" target="_blank">Sobre</a></li>

                    <!-- BEGIN TOP SEARCH -->
                    <li class="menu-search">
                        <span class="sep"></span>
                        <i class="fa fa-search search-btn"></i>
                        <div class="search-box">
                            <form action="#">
                                <div class="input-group">
                                    <input type="text" placeholder="Pesquisar..." class="form-control">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary" type="submit">Pesquisar</button>
                                    </span>
                                </div>
                            </form>
                        </div>
                    </li>
                    <!-- END TOP SEARCH -->
                </ul>
            </div>
            <!-- END NAVIGATION -->
        </div>
    </div>    
    <div class="main">
        <div class="container">
            <ul class="breadcrumb">
                <li><a href="index.html">Home</a></li>
                <li><a href="javascript:;">Pages</a></li>
                <li class="active">Contatos</li>
            </ul>
            <!-- BEGIN SIDEBAR & CONTENT -->
            <div class="row margin-bottom-40">
                <!-- BEGIN CONTENT -->
                <div class="col-md-12">
                    <div class="content-page">

                        <div class="container1 mt-4">
                            <h1 class="display-4 text-center">
                              <i class="fas fa-book-open text-primary"></i><span class="text-primary" style="color:#e94d1c;">Lista de contatos</span></h1>
                              <!--<div class="alert alert-success">Whatever the message</div> -->
                              <form id="contato-form"  style="border: solid 1px #e94d1c; border-radius: 2px">
                                    <div class="panel-body row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label for="firstname-dd">Nome <span class="require">*</span></label>
                                                <input type="text" id="nome" class="form-control" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <label for="lastname-dd">Telefone <span class="require">*</span></label>
                                                <input type="text" id="telefone" class="form-control" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label for="address1-dd">Endereço <span class="require">*</span></label>
                                                <input type="text" id="endereco" class="form-control" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <label for="address2-dd">E-Mail <span class="require">*</span></label>
                                                <input type="text" id="email" class="form-control" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <button class="btn btn-primary  pull-right" type="submit" data-toggle="collapse" data-parent="#checkout-page" data-target="#shipping-method-content">Salvar</button>
                                        </div>
                                    </div>
                                </form><hr>
                                <!--Start table-->
                                <table class="table table-bordered mt-5">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Endereço</th>
                                            <th>Telefone</th>
                                            <th>Email</th>
                                            <th>#</th>
                                        </tr>
                                    </thead>
                                    <tbody id="contato-list"></tbody>
                                </table>
                        </div>  
                    </div>
                </div>
                <!-- END CONTENT -->
            </div>
        </div>
    </div>

    <!-- BEGIN PRE-FOOTER -->
    <div class="pre-footer">
        <div class="container">
            <div class="row">
                <!-- BEGIN BOTTOM ABOUT BLOCK -->
                <div class="col-md-4 col-sm-6 pre-footer-col">
                    <h2>Sobre</h2>
                    <p>
                        Formado em Sistemas de Informação pela Faculdade (UNISO), com experiência em
                        desenvolvimento de sistemas e suporte a usuários de hardware/software. Conhecimentos
                        em arquitetura MVC e boas pratica de desenvolvimento. Interesse em projetos nas diversas
                        áreas e novas tecnologias.
                    </p>

                    <div class="photo-stream">
                        <h2>Ferramentas e Tecnologias</h2>
                        <ul class="list-unstyled">
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/code.jpeg"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/visualstudio.png"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/sketchUp.jpg"></a></li>   
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/net.png"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/csharp.png"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/sqlserver.png"></a></li>  
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/html5.png"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/jquery.png"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/javascript.png"></a></li>
                            <li><a href="javascript:;"><img alt="" src="assets/pages/img/angular.png"></a></li>                                                     
                        </ul>
                    </div>
                </div>
                <!-- END BOTTOM ABOUT BLOCK -->
                <!-- BEGIN BOTTOM CONTACTS -->
                <div class="col-md-4 col-sm-6 pre-footer-col">
                    <h2>Contatos</h2>
                    <address class="margin-bottom-40">
                        Sorocaba, SP<br>                        
                        Email: <a href="mailto:info@gmail.com">wesley@gmail.com</a><br>
                        Linkedin: <a href="https://www.linkedin.com/in/wesleysilva10" target="_blank">Wesley Silva</a><br>
                        Git: <a href="https://github.com/Wesley-Silva" target="_blank">Wesley Silva</a>
                    </address>

                    <div class="pre-footer-subscribe-box pre-footer-subscribe-box-vertical">
                        <h2>Noticias</h2>
                        <p>Escreva-se para receber as novidades sobre tecnologias!</p>
                        <form action="#">
                            <div class="input-group">
                                <input type="text" placeholder="email@mail.com" class="form-control">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="submit">Enviar</button>
                                </span>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- END BOTTOM CONTACTS -->              
            </div>
        </div>
    </div>
    <!-- END PRE-FOOTER -->
    <!-- BEGIN FOOTER -->
    <div class="footer">
        <div class="container">
            <div class="row">
                <!-- BEGIN COPYRIGHT -->
                <div class="col-md-4 col-sm-4 padding-top-10">
                    2019 © Wesley Silva. Todos os direitos reservados.
                </div>
                <!-- END COPYRIGHT -->
                <!-- BEGIN PAYMENTS -->
                <div class="col-md-4 col-sm-4">
                    <ul class="social-footer list-unstyled list-inline pull-right">
                        <li><a href="javascript:;"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="javascript:;"><i class="fa fa-google-plus"></i></a></li>
                        <li><a href="javascript:;"><i class="fa fa-dribbble"></i></a></li>
                        <li><a href="https://www.linkedin.com/in/wesleysilva10" target="_blank"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="javascript:;"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="javascript:;"><i class="fa fa-skype"></i></a></li>
                        <li><a href="https://github.com/Wesley-Silva" target="_blank"><i class="fa fa-github"></i></a></li>
                        <li><a href="javascript:;"><i class="fa fa-youtube"></i></a></li>
                        <li><a href="javascript:;"><i class="fa fa-dropbox"></i></a></li>
                    </ul>
                </div>
                <!-- END PAYMENTS -->
                <!-- BEGIN POWERED -->
                <div class="col-md-4 col-sm-4 text-right">
                    <p class="powered">Desenvolvido por: <a href="https://wesleysilva.netlify.com/" target="_blank">Wesley Silva</a></p>
                </div>
                <!-- END POWERED -->
            </div>
        </div>
    </div>    
    <script src="assets/plugins/jquery.min.js" type="text/javascript"></script>
    <script src="assets/plugins/jquery-migrate.min.js" type="text/javascript"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/corporate/scripts/back-to-top.js" type="text/javascript"></script>
    <!-- END CORE PLUGINS -->
    <!-- BEGIN PAGE LEVEL JAVASCRIPTS (REQUIRED ONLY FOR CURRENT PAGE) -->
    <script src="assets/plugins/fancybox/source/jquery.fancybox.pack.js" type="text/javascript"></script><!-- pop up -->

    <script src="assets/corporate/scripts/layout.js" type="text/javascript"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            Layout.init();
            Layout.initTwitter();
        });
    </script>
    <!-- END PAGE LEVEL JAVASCRIPTS -->

    <script type="text/javascript">
        // Representa a classe Contato
        class Contato {
            constructor(nome, endereco, telefone, email) {
                this.nome = nome;
                this.endereco = endereco,
                this.telefone = telefone,
                this.email = email;
            }
        }

        // classe master
        class Master {
            static obterContatos() {
                let contatos;
                if (localStorage.getItem('contatos') === null) {
                    contatos = [];
                } else {
                    contatos = JSON.parse(localStorage.getItem('contatos'));
                }
                return contatos;
            }

            static addContato(contato) {
                const contatos = Master.obterContatos();
                contatos.push(contato);
                localStorage.setItem('contatos', JSON.stringify(contatos));
            }

            static excluirContatoStorage(email){
                const contatos = Master.obterContatos();
                contatos.forEach((contato, index) => {
                    if (contato.email === email) {
                        contatos.splice(index, 1);
                    }
                });
                localStorage.setItem('contatos', JSON.stringify(contatos));
            }
        }

        class UI {
            static exibirContatos() {
                const contatos = Master.obterContatos();

                contatos.forEach((contato) => UI.addContatoNoGrid(contato));
            }

            static addContatoNoGrid(contato) {
                const lista = document.querySelector('#contato-list');
                const linha = document.createElement('tr');

                linha.innerHTML = `
                    <td>${ contato.nome }</td>
                    <td>${ contato.endereco }</td>
                    <td>${ contato.telefone }</td>
                    <td>${ contato.email }</td>
                    <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>
                `;

                lista.appendChild(linha);
            }

            static excluirContato(contato){
                if (contato.classList.contains('delete')) {
                    contato.parentElement.parentElement.remove();
                }
            }

            static mostrarMsg(message, className){
                const div = document.createElement('div');
                div.className = `alert alert-${className}`;
                div.appendChild(document.createTextNode(message));
                const container = document.querySelector('.container1');
                const form = document.querySelector('#contato-form');
                container.insertBefore(div, form);

                // Ocultar a messagem apos a adição ou exclusão
                setTimeout(() => document.querySelector('.alert').remove(), 3000);
            }

            static limparCampos() {
                document.querySelector('#nome').value = '';
                document.querySelector('#endereco').value = '';
                document.querySelector('#telefone').value = '';
                document.querySelector('#email').value = '';
            }
        }

        // Evento: Exibir contatos
        document.addEventListener('DOMContentLoaded', UI.exibirContatos);

        // Adicionar contato
        document.querySelector('#contato-form').addEventListener('submit', (e) => {
            e.preventDefault();

            // Obter valores do form
            const nome = document.querySelector('#nome').value;
            const endereco = document.querySelector('#endereco').value;
            const telefone = document.querySelector('#telefone').value;
            const email = document.querySelector('#email').value;

            // Validação 
            if (nome === '' || endereco === '' || telefone === '' || email === '') {
                UI.mostrarMsg('Falta preencher campos(*)', 'danger');
            }else{
                // Instancia do contato
                const contato = new Contato(nome, endereco, telefone, email);

                // Adicionar contatos no grid
                UI.addContatoNoGrid(contato);

                // Adicionar contato no localstorage
                Master.addContato(contato);

                // Mostrar msg
                UI.mostrarMsg('Contato adicionado!', 'success');

                // limpar campos
                UI.limparCampos();
            }
        });

        // Remover contato
        document.querySelector('#contato-list').addEventListener('click', (e) => {
            // Remover contato do grid(tela)
            UI.excluirContato(e.target);

            // Remover contato do localstorage
            Master.excluirContatoStorage(e.target.parentElement.previousElementSibling.textContent);

            // Msg ao ecluir contato
            UI.mostrarMsg('Contato excluído com sucesso!', 'success');
        });

    </script>
</body>
<!-- END BODY -->
</html>